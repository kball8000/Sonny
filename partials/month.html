<div ng-controller='monthCtrl'>
  <!-- DEPRECATED MONTH.MESSAGE AT 1.30. BRING BACK IF NEEDED LATER -->
  <!-- <span ng-if='o.info.month.message'> {{o.info.month.message}} </span> -->
  <ul ng-hide='true'>
    <!-- <li>userYear:   {{o.info.monthUser.year}}</li>
    <li>userMonth:  {{o.info.monthUser.month}}</li>
    <li>future:     {{o.info.monthUser.future}}</li>
    <li>monthUser:  {{o.info.monthUser}}</li> -->
    <li>userYear:   {{o.monthUser.year}}</li>
    <li>userMonth:  {{o.monthUser.month}}</li>
    <li>future:     {{o.monthUser.future}}</li>
    <li>monthUser:  {{o.monthUser}}</li>
    <li>monthId:    {{o.info.month.id}}</li>
  </ul>
  <md-card>
    <md-card-content id='monthInputContent'>
        <div layout="row" id='monthInputCard'>
    
        <!--    Date inputs  -->
        <!-- <md-input-container>
          <label>Year</label>
          <md-select ng-model="o.info.month.year" 
                     ng-change="newMonth()">
            <md-option ng-repeat="year in years" 
                       ng-value="year"
                       ng-disabled="$index === years.indexOf(o.info.month.year)">
              {{year}}
            </md-option>
          </md-select>
        </md-input-container> -->
        <md-input-container>
          <label>Year</label>
          <!-- <md-select ng-model="o.info.monthUser.year"  -->
          <md-select ng-model="o.monthUser.year" 
                      ng-change="newMonth()">
            <md-option ng-repeat="year in years" 
                        ng-value="year"
                        ng-disabled="$index === years.indexOf(o.monthUser.year)">
              {{year}}
            </md-option>
          </md-select>
        </md-input-container>
          
        <!-- <md-input-container>
          <label>Month</label>
          <md-select ng-model="o.info.month.monthText"
                     ng-change="newMonth()">
            <md-option ng-repeat="_month in months" 
                       ng-value="_month"
                       ng-disabled="$index === months.indexOf(o.info.month.monthText)">
              {{_month}}
            </md-option>
          </md-select>
        </md-input-container> -->
        <md-input-container>
          <label>Month</label>
          <md-select ng-model="o.monthUser.monthText"
                      ng-change="newMonth()">
            <md-option ng-repeat="_month in months" 
                        ng-value="_month"
                        ng-disabled="$index === months.indexOf(o.monthUser.monthText)">
              {{_month}}
            </md-option>
          </md-select>
        </md-input-container>
            
        <!--    Date navigation arrows  -->
        <md-button class='md-raised chgMonth'
                   ng-click='nextMonth(false)'>
          <md-icon md-font-icon='material-icons'>
            arrow_back
          </md-icon>
        </md-button>
          
        <md-button class='md-raised chgMonth'
                   ng-click='nextMonth(true)'>
          <md-icon md-font-icon='material-icons'
                   ng-style="{'font-size': '24px'}" >
            arrow_forward
          </md-icon>
        </md-button>
      </div>
          
    </md-card-content>
  </md-card>    

  <!--    Spinner  -->
  <div layout="row" layout-sm="column" layout-align="space-around">
    <md-progress-circular ng-show='o.info.month.id !== o.monthUser.id()'
                          md-mode="indeterminate">
    </md-progress-circular>
  </div>
        
    <!--    Calendar  -->
    <!-- <table class='table'>
        <tr>
            <th ng-repeat="h in ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']">{{h}}</th>
        </tr>
        <tr ng-repeat='week in o.info.month.weather.cal'>
            <td ng-repeat='day in week'>
              <div>
                <span ng-bind-html="day.html"></span>
              </div>
            </td>
        </tr>
    </table>
    <hr> -->

    <!-- <div ng-bind-html="o.info.month.weather.html"></div> -->

    <div ng-bind-html="o.info.month.html" ng-hide='o.info.month.id !== o.monthUser.id()'></div>
    
  <!--    Totals  -->
  <md-card>
      <md-card-content style='padding:0.5em 1em;'>
  
        <md-button  class='md-raised'
                    ng-show='!o.info.month.complete'
                    ng-disabled='requestDisabled'
                    ng-click='requestQueue()'>
                    {{requestText}}
        </md-button>
  
        <md-list id='monthTotals'>
          <md-list-item ng-show='o.info.month.weather.totalrainfall'>
            Total Rain: {{o.info.month.weather.totalrainfall | number:2}}"
          </md-list-item>
          <md-list-item ng-show='o.info.month.weather.totalsnowfall'>
            Total Snow: {{o.info.month.weather.totalsnowfall | number:2}}"
          </md-list-item>
          <md-list-item ng-show='o.info.month.weather.heatingdegreedays'>
            Heating deg days: {{o.info.month.weather.heatingdegreedays}}
          </md-list-item>
          <md-list-item ng-show='o.info.month.weather.coolingdegreedays'>
            Cooling deg days: {{o.info.month.weather.coolingdegreedays}}
          </md-list-item>
          <md-list-item ng-show='o.info.month.weather.mean_temp'>
            Mean Temp: {{o.info.month.weather.mean_temp}}&deg;F
          </md-list-item>
        </md-list>
      </md-card-content>
    </md-card>
  
  
</div>